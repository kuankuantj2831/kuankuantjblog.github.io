<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="kuankuantjçš„ä¸ªäººåšå®¢ - åˆ†äº«æ˜¯ä¸€ç§ç¾å¾·">

    <title>kuankuantjçš„ä¸ªäººåšå®¢</title>

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/chinese-style.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/tianjg-theme.css">

    <script src="js/pace.min.js"></script>
</head>

<body>
    <div class="chinese-style-wrapper">
        <!-- èƒŒæ™¯è£…é¥° -->
        <div class="bg-decoration"></div>

        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <nav class="top-nav">
            <div class="logo">å¤©æœºé˜</div>
            <div class="nav-links">
                <a href="#" class="nav-link active">ğŸ  ä¸»é¡µ</a>
                <a href="games.html" class="nav-link">ğŸ® æ¸¸æˆ</a>
                <a href="#" class="nav-link">â˜ï¸ ç½‘ç›˜</a>
                <a href="#" class="nav-link">ğŸ¯ å…³äºæˆ‘ä»¬</a>
                <a href="#" class="nav-link login-btn" style="cursor: pointer;"
                    onclick="document.getElementById('loginModal').classList.add('active')">ğŸ‘¤ ç™»å½•</a>
                <a href="#" class="nav-link register-btn" style="cursor: pointer;">ğŸ“ æ³¨å†Œ</a>

                <!-- ç”¨æˆ·èœå• -->
                <div class="user-menu" style="display: none;">
                    <div class="user-avatar">U</div>
                    <div class="user-dropdown">
                        <div class="user-dropdown-header">
                            <div class="user-dropdown-name">ç”¨æˆ·å</div>
                            <div class="user-dropdown-email">user@example.com</div>
                        </div>
                        <div class="user-dropdown-menu">
                            <a href="editor.html" class="user-dropdown-item">âœï¸ å‘å¸ƒæ–‡ç« </a>
                            <a href="profile.html" class="user-dropdown-item">ğŸ‘¤ ä¸ªäººä¸­å¿ƒ</a>
                            <a href="profile.html" class="user-dropdown-item">âš™ï¸ è®¾ç½®</a>
                            <div class="user-dropdown-divider"></div>
                            <a href="#" class="user-dropdown-item" id="logoutBtn">ğŸšª é€€å‡ºç™»å½•</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- ä¸»æ ‡é¢˜åŒºåŸŸ -->
        <section class="hero-section">
            <h1 class="main-title">åˆ†äº«æ˜¯ä¸€ç§ç¾å¾·</h1>
            <p class="sub-title">å®ƒä¸æ±‚å›æŠ¥ï¼Œåªä¸ºçœŸè¯š</p>

            <!-- æ ‡ç­¾å¯¼èˆª -->
            <div class="tab-navigation">
                <button class="tab-btn active">æ–‡ç« </button>
                <button class="tab-btn">ç”¨æˆ·</button>
                <button class="tab-btn">çŸ¥è¯†</button>
                <button class="tab-btn">ç„æœº</button>
                <button class="tab-btn">å•†å“</button>
            </div>

            <!-- æœç´¢åŒºåŸŸ -->
            <div class="search-section">
                <div class="search-container">
                    <select class="search-select">
                        <option>é€‰æ‹©æ ‡ç­¾ â¬‡</option>
                        <option>ç¼–ç¨‹æŠ€æœ¯</option>
                        <option>æ¸¸æˆèµ„æº</option>
                        <option>è®¾è®¡ç´ æ</option>
                        <option>å­¦ä¹ èµ„æ–™</option>
                    </select>
                    <input type="text" class="search-input" placeholder="å¼€å¯ç²¾å½©æœç´¢...">
                    <button class="search-btn">ğŸ”</button>
                </div>
            </div>

            <!-- åˆ†ç±»æ ‡ç­¾ -->
            <div class="category-tags">
                <a href="#" class="category-tag">åŸç¥</a>
                <a href="#" class="category-tag">å“”å“©å“”å“©</a>
                <a href="#" class="category-tag">æ¸¸æˆ</a>
            </div>
        </section>

        <!-- èµ„æºå±•ç¤ºåŒºåŸŸ -->
        <section class="resource-showcase">
            <div class="resource-scroll" id="articles-container">
                <!-- Articles will be loaded dynamically here -->
                <div class="loading-spinner">åŠ è½½æ–‡ç« ä¸­...</div>
            </div>
        </section>
    </div>

    <!-- ç™»å½•å¼¹çª— -->
    <div class="auth-modal-overlay" id="loginModal">
        <div class="auth-modal">
            <div class="auth-modal-header">
                <h2 class="auth-modal-title">ğŸ” ç”¨æˆ·ç™»å½•</h2>
                <button class="auth-modal-close">Ã—</button>
            </div>
            <div class="auth-modal-body">
                <div class="auth-error" id="loginError"></div>
                <div class="auth-success" id="loginSuccess"></div>

                <form id="loginForm"
                    onsubmit="event.preventDefault(); if(window.supabaseAuthSystem) { window.supabaseAuthSystem.handleLogin(); } else { alert('ç³»ç»Ÿæœªå°±ç»ª'); }">
                    <div class="auth-form-group">
                        <label class="auth-form-label">ç”¨æˆ·å/é‚®ç®±</label>
                        <input type="text" class="auth-form-input" id="loginUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·åæˆ–é‚®ç®±" required>
                    </div>

                    <div class="auth-form-group">
                        <label class="auth-form-label">å¯†ç </label>
                        <input type="password" class="auth-form-input" id="loginPassword" placeholder="è¯·è¾“å…¥å¯†ç " required>
                    </div>

                    <div class="auth-form-group" id="login2faGroup" style="display: none;">
                        <label class="auth-form-label">éªŒè¯ç </label>
                        <input type="text" class="auth-form-input" id="login2faCode" placeholder="è¯·è¾“å…¥é‚®ç®±éªŒè¯ç ">
                    </div>

                    <div class="auth-remember">
                        <input type="checkbox" id="loginRemember">
                        <label for="loginRemember">è®°ä½æˆ‘</label>
                    </div>

                    <button type="submit" class="auth-btn auth-btn-primary">ç™»å½•</button>
                </form>

                <div class="auth-switch">
                    è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ<a href="#" class="auth-switch-link" id="switchToRegister">ç«‹å³æ³¨å†Œ</a>
                </div>
            </div>
        </div>
    </div>

    <!-- æ³¨å†Œå¼¹çª— -->
    <div class="auth-modal-overlay" id="registerModal">
        <div class="auth-modal">
            <div class="auth-modal-header">
                <h2 class="auth-modal-title">ğŸ“ ç”¨æˆ·æ³¨å†Œ</h2>
                <button class="auth-modal-close">Ã—</button>
            </div>
            <div class="auth-modal-body">
                <div class="auth-error" id="registerError"></div>
                <div class="auth-success" id="registerSuccess"></div>

                <form id="registerForm">
                    <div class="auth-form-group">
                        <label class="auth-form-label">ç”¨æˆ·å</label>
                        <input type="text" class="auth-form-input" id="registerUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆè‡³å°‘3ä¸ªå­—ç¬¦ï¼‰"
                            required>
                    </div>

                    <div class="auth-form-group">
                        <label class="auth-form-label">é‚®ç®±</label>
                        <input type="email" class="auth-form-input" id="registerEmail" placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€" required>
                    </div>

                    <div class="auth-form-group">
                        <label class="auth-form-label">å¯†ç </label>
                        <input type="password" class="auth-form-input" id="registerPassword" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä¸ªå­—ç¬¦ï¼‰"
                            required>
                    </div>

                    <div class="auth-form-group">
                        <label class="auth-form-label">ç¡®è®¤å¯†ç </label>
                        <input type="password" class="auth-form-input" id="registerConfirmPassword"
                            placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " required>
                    </div>

                    <button type="submit" class="auth-btn auth-btn-primary">æ³¨å†Œ</button>
                </form>

                <div class="auth-switch">
                    å·²æœ‰è´¦å·ï¼Ÿ<a href="#" class="auth-switch-link" id="switchToLogin">ç«‹å³ç™»å½•</a>
                </div>
            </div>
        </div>
    </div>
    <script src="js/supabase.js"></script>
    <script type="module" src="js/supabase-auth.js?v=1766142191"></script>
    <script type="module" src="js/load-articles.js?v=1766142191"></script>
    <script src="js/theme-enhancements.js"></script>
    <script>
        // Debugging script
        window.addEventListener('load', () => {
            console.log('Debug: Window loaded');
            if (!window.supabase) {
                alert('CRITICAL ERROR: Supabase SDK not loaded! window.supabase is undefined.');
            } else {
                console.log('Debug: Supabase SDK loaded');
            }

            const loginBtn = document.querySelector('.login-btn');
            if (loginBtn) {
                loginBtn.addEventListener('click', (e) => {
                    console.log('Debug: Login button clicked');
                    if (!window.supabaseAuthSystem) {
                        alert('System not ready: SupabaseAuthSystem not initialized yet.');
                    }
                });
            } else {
                console.error('Debug: Login button not found in DOM');
            }
        });
    </script>
    <script>
        // æ ‡ç­¾åˆ‡æ¢
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('.resource-scroll').forEach(container => {
            let isDown = false;
            let startX;
            let scrollLeft;

            container.addEventListener('mousedown', (e) => {
                isDown = true;
                startX = e.pageX - container.offsetLeft;
                scrollLeft = container.scrollLeft;
            });

            container.addEventListener('mouseleave', () => {
                isDown = false;
            });

            container.addEventListener('mouseup', () => {
                isDown = false;
            });

            container.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - container.offsetLeft;
                const walk = (x - startX) * 2;
                container.scrollLeft = scrollLeft - walk;
            });
        });
    </script>
</body>

</html>